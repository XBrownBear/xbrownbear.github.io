<!-- build time:Tue Dec 03 2019 12:49:29 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.2.2"><script></script><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/bug-report-32x32.png?v=7.4.1"><link rel="icon" type="image/png" sizes="16x16" href="/images/bug-report-16x16.png?v=7.4.1"><link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222"><link rel="alternate" href="/atom.xml" title="一只不掉毛的程序猿" type="application/atom+xml"><link rel="stylesheet" href="/css/main.css?v=7.4.1"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"7.4.1",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"复制",copy_success:"复制成功",copy_failure:"复制失败"},sidebarPadding:40}</script><meta name="description" content="shell编程bash 变量变量名=变量值 赋值。（= 左右不可以有空格，所有被复制都是字符串形式）"><meta property="og:type" content="article"><meta property="og:title" content="Linux常用命令（三）"><meta property="og:url" content="http://blog.xiongchang.vip/Linux常用命令（三）.html"><meta property="og:site_name" content="一只不掉毛的程序猿"><meta property="og:description" content="shell编程bash 变量变量名=变量值 赋值。（= 左右不可以有空格，所有被复制都是字符串形式）"><meta property="og:image" content="http://imgs.xiongchang.vip/img_24.png"><meta property="og:image" content="http://imgs.xiongchang.vip/img_25.png"><meta property="og:image" content="http://imgs.xiongchang.vip/img_26.png"><meta property="og:image" content="http://imgs.xiongchang.vip/img_29.png"><meta property="og:image" content="http://imgs.xiongchang.vip/img_30.png"><meta property="og:image" content="http://imgs.xiongchang.vip/img_31.png"><meta property="og:image" content="http://imgs.xiongchang.vip/img_36.jpg"><meta property="og:image" content="http://imgs.xiongchang.vip/img_37.jpg"><meta property="og:image" content="http://imgs.xiongchang.vip/img_38.png"><meta property="og:image" content="http://imgs.xiongchang.vip/img_39.png"><meta property="og:updated_time" content="2019-12-03T04:48:34.585Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Linux常用命令（三）"><meta name="twitter:description" content="shell编程bash 变量变量名=变量值 赋值。（= 左右不可以有空格，所有被复制都是字符串形式）"><meta name="twitter:image" content="http://imgs.xiongchang.vip/img_24.png"><link rel="canonical" href="http://blog.xiongchang.vip/Linux常用命令（三）"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>Linux常用命令（三） | 一只不掉毛的程序猿</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><a href="https://your-url" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">一只不掉毛的程序猿</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-fw fa-sitemap"></i>站点地图</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-fw fa-heartbeat"></i>公益 404</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://blog.xiongchang.vip/Linux常用命令（三）.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Mr.xiong"><meta itemprop="description" content="日行一善"><meta itemprop="image" content="http://imgs.xiongchang.vip/head.jpeg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="一只不掉毛的程序猿"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Linux常用命令（三）</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-12-03 12:28:01 / 修改时间：12:48:34" itemprop="dateCreated datePublished" datetime="2019-12-03T12:28:01+08:00">2019-12-03</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span> </a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/Linux常用命令（三）.html#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/Linux常用命令（三）.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>13k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>12 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="shell编程"><a href="#shell编程" class="headerlink" title="shell编程"></a>shell编程</h2><h3 id="bash-变量"><a href="#bash-变量" class="headerlink" title="bash 变量"></a>bash 变量</h3><ul><li><p><code>变量名=变量值</code> 赋值。（<kbd>=</kbd> 左右不可以有<strong>空格</strong>，所有被复制都是字符串形式）<a id="more"></a></p></li><li><p><code>echo $变量名</code> 调用变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">x=123</div><div class="line">x=<span class="string">"<span class="variable">$x</span>"</span>456	<span class="comment"># 变量叠加，$x=123456</span></div><div class="line">x=<span class="variable">$x789</span>		<span class="comment"># $x=123456789</span></div></pre></td></tr></table></figure></li><li><p><code>set [-u]</code> 查看变量。<kbd>-u</kbd>：调用未声明的变量时会报错</p><p><code>unset 变量名</code> 删除变量</p></li><li><p><code>export 变量名=变量值</code> 设置环境变量</p></li><li><p><code>echo $PATH</code> 查看环境变量</p><p><code>PATH=&quot;$PATH&quot;:/root/sh</code> 增加PATH变量的值（<strong>临时生效</strong>）</p></li><li><p><code>echo $PS1</code> 查看当前PS1变量</p><p><code>PS1=&#39;[\u@\A \w]\$ &#39;</code> 自定义命令提示符</p><p><code>PS2=&#39;&gt; &#39;</code> 用于换行</p><p><img src="http://imgs.xiongchang.vip/img_24.png" alt="http://imgs.xiongchang.vip/img_24.png" style="zoom:33%"></p></li><li><p><code>locale</code> 查询当前语系</p><p><kbd>LANG</kbd> ：定义系统主语系。<code>echo $LANG</code> 查看变量值。</p><p><kbd>LC_ALL</kbd> ：定义整体语系变量。<code>echo $LC_ALL</code></p><p><code>locale -a/more</code> 查询Linux支持的所有语系。</p><p><code>cat /etc/sysconfig/i18n</code> 查询系统默认语系。</p><ul><li>在Linux纯字符界面不支持中文，若要有中文，下载安装<kbd>zhcon</kbd> 即可。</li></ul></li><li><p><code>read [选项] [变量名]</code></p><ul><li><p>选项：<kbd>-p “message”</kbd>：提示信息；<kbd>-t 秒数</kbd>：指定输入等待时间；<kbd>-n 字符数</kbd>：接收指定字符数，则会执行；<kbd>-s</kbd>：隐藏输入的数据。</p><p><img src="http://imgs.xiongchang.vip/img_25.png" alt="http://imgs.xiongchang.vip/img_25.png" style="zoom:80%"></p><p><img src="http://imgs.xiongchang.vip/img_26.png" alt="http://imgs.xiongchang.vip/img_26.png" style="zoom:90%"></p></li></ul></li><li><p>位置参数变量</p></li></ul><table><thead><tr><th>位置参数变量</th><th>作用</th></tr></thead><tbody><tr><td>$n</td><td>n为数字，<code>$0</code>代表命令本身，<code>$1-$9</code>代表第一到第九个参数，十以上的参数需要用大括号包含，如：<code>${10}</code>。</td></tr><tr><td>$*</td><td>这个变量代表命令行中所有的参数，<code>$*</code> 把所有的参数看成一个整体。</td></tr><tr><td>$@</td><td>这个变量也代表命令行中所有的参数，不过<code>$@</code> 把每个参数区分对待。</td></tr><tr><td>$#</td><td>这个变量代表命令行中所有参数的个数。</td></tr></tbody></table><table><thead><tr><th>预定义变量</th><th>作用</th></tr></thead><tbody><tr><td>$?</td><td>最后一次执行从命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；<br>如果这个变量的值为非0（具体是哪个数，由命令自己决定），证明上一个命令执行不正确。</td></tr><tr><td>$$</td><td>当前进程的进程号（PID）</td></tr><tr><td>$!</td><td>后台运行的最后一个进程的进程号（PID）</td></tr></tbody></table><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><ul><li><p><code>declare [+-] [-aixrp] 变量名</code> 声明变量类型。<kbd>+</kbd>：设定类型属性；<kbd>-</kbd>：取消变量类型属性；<kbd>a</kbd>：数组型；<kbd>i</kbd>：整数型；<kbd>x</kbd>：环境变量型；<kbd>r</kbd>：只读变量型；<kbd>p</kbd>：显示指定变量的被声明类型；</p><blockquote><p>定义数组：</p><p><code>movie [0]=cl</code></p><p><code>movie [1]=bl</code> (可以不加<code>declare -a</code>)</p><p>查看数组：</p><p><code>echo ${movie[*]}</code> 打印cl bl</p><p><code>echo ${movie{0}}</code> 打印cl</p></blockquote><p><code>export</code> 定义的环境变量最终还是用的 <code>declare</code>。</p><p><code>declare -r 变量名</code> 不推荐使用，设置成只读后，无法进行修改，包括删除！</p></li><li><p>数值运算</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># aa=11</span></div><div class="line">[root@localhost ~]<span class="comment"># bb=22</span></div><div class="line">[root@localhost ~]<span class="comment"># declare -i cc=$aa+$bb</span></div><div class="line">[root@localhost ~]<span class="comment"># echo $cc</span></div><div class="line">33</div><div class="line">[root@localhost ~]<span class="comment"># dd=$(expr $aa + $bb)</span></div><div class="line">[root@localhost ~]<span class="comment"># echo $dd</span></div><div class="line">33</div><div class="line">[root@localhost ~]<span class="comment"># ee=$(($aa+$bb))</span></div><div class="line">[root@localhost ~]<span class="comment"># echo $dd</span></div><div class="line">33</div><div class="line">[root@localhost ~]<span class="comment"># ff=$[$aa+$bb]</span></div><div class="line">[root@localhost ~]<span class="comment"># echo $dd</span></div><div class="line">33</div></pre></td></tr></table></figure><p>运算符及其优先级：</p><p><img src="http://imgs.xiongchang.vip/img_29.png" alt="http://imgs.xiongchang.vip/img_29.png"></p></li><li><p>变量测试</p><p><img src="http://imgs.xiongchang.vip/img_30.png" alt="http://imgs.xiongchang.vip/img_30.png"></p><p>变量测试在脚本（shell）优化时使用。</p></li></ul><h3 id="环境变量与配置文件"><a href="#环境变量与配置文件" class="headerlink" title="环境变量与配置文件"></a>环境变量与配置文件</h3><ul><li><p>环境变量作用：定义每个用户的操作环境。</p></li><li><p><code>source 配置文件</code>、<code>. 配置文件</code>：重新加载配置文件。修改配置文件后，必须注销重新登陆方可生效，使用<code>source</code> 命令可不用直接登录。</p></li><li><p>配置文件：</p><ol><li><code>/etc/profile</code></li><li><code>/etc/profile.d/*.sh</code></li><li><code>~/.bash_profile</code></li><li><code>~/.bashrc</code></li><li><code>/etc/bashrc</code></li></ol><p><img src="http://imgs.xiongchang.vip/img_31.png" alt="http://imgs.xiongchang.vip/img_31.png"></p><ul><li><p><code>/etc/profile</code> 的作用：</p><p><code>HOSTNAME</code> 主机名、<code>HISTSIZE</code> 历史命令最大系数、<code>umask</code> 系统默认权限、调用<code>/etc/profile.d/*.sh</code>文件 …</p></li><li><p><code>~/.bashrc</code> 的作用</p><ol><li>定义别名；</li><li>调用<code>/etc/bashrc</code> 文件。</li></ol></li><li><p><code>/etc/bashrc</code> 的作用</p><p><code>PS1</code> 变量、<code>PATH</code> 变量、<code>umask</code> 变量、调用<code>/etc/profile.d/*.sh</code>文件</p></li><li><p>其他配置文件</p><ul><li><p><code>~/.bash_logout</code> 注销时生效的环境变量配置文件</p></li><li><p><code>~/.bash_history</code> 存放历史命令的配置文件</p></li><li><p>登陆后欢迎信息：<code>/etc/motd</code></p><p>不管是本地登录还是远程登录，都可以显示此欢迎信息。</p></li><li><p>远程终端欢迎信息：<code>/etc/issue.net</code></p><ul><li>转义符在<code>/etc/issue.net</code> 文件中不能使用；</li><li>是否显示此欢迎信息，由ssh的配置文件(<code>/etc/ssh/sshd_config</code>)决定，加入<code>Banner /etc/issue.net</code>行才能显示（记得重启SSH服务）</li></ul></li><li><p>本地终端欢迎信息：<code>/etc/issue</code></p><ul><li>该文件对远程终端不起作用。</li></ul></li></ul></li></ul></li></ul><table><thead><tr><th>转义符</th><th>说明</th></tr></thead><tbody><tr><td>\d</td><td>显示当前系统日期</td></tr><tr><td>\s</td><td>显示操作系统名称</td></tr><tr><td>\l</td><td>显示登录的终端号，这个比较实用</td></tr><tr><td>\m</td><td>显示硬件体系结构，如i386、i686等</td></tr><tr><td>\n</td><td>显示主机名</td></tr><tr><td>\o</td><td>显示域名</td></tr><tr><td>\r</td><td>显示内核版本</td></tr><tr><td>\t</td><td>显示当前系统时间</td></tr><tr><td>\u</td><td>显示当前登录用户的序列号</td></tr></tbody></table><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><ul><li><p>正则表达式：用来在文件中匹配符合条件的字符串，正则是<strong>包含匹配</strong>；</p><p><code>grep</code>、<code>awk</code>、<code>sed</code>等命令可以支持正则表达式。</p></li><li><p>通配符（<code>*</code>、<code>?</code>、<code>[ ]</code>）：用来匹配符合条件的文件名，通配符是<strong>完全匹配</strong>；</p><p><code>ls</code>、<code>find</code>、<code>cp</code>等命令不支持正则，只能使用通配符匹配。</p></li><li><p>基础正则表达式：</p></li></ul><table><thead><tr><th>元字符</th><th>作用</th></tr></thead><tbody><tr><td><code>*</code></td><td>前一个字符匹配0次或任意多次。</td></tr><tr><td><code>.</code></td><td>匹配<strong>除换行符外</strong>任意一个字符。</td></tr><tr><td><code>^</code></td><td>匹配<strong>行首</strong>。如：<code>^hi</code> 会匹配以<code>hi</code> 开头的行。</td></tr><tr><td><code>$</code></td><td>匹配<strong>行尾</strong>。如：<code>hi$</code> 会匹配以<code>hi</code> 结尾的行。</td></tr><tr><td><code>[ ]</code></td><td>匹配中括号中指定的任意一个字符，只匹配一个字符。</td></tr><tr><td><code>[^]</code></td><td>匹配除中括号中的字符以外的任意一个字符。对<code>[ ]</code>取反。</td></tr><tr><td><code>\</code></td><td>转义符。</td></tr><tr><td><code>\{n\}</code></td><td>表示其前面的字符恰好出现n次。如：<code>[1][3-8][0-9]\{9\}</code>匹配手机号码。</td></tr><tr><td><code>\{n,\}</code></td><td>表示其前面的字符出现不小于n次。如：<code>[0-9]\{2,\}</code>表示两位及以上的数字。</td></tr><tr><td><code>\{n,m\}</code></td><td>表示其前面的字符至少出现n次，最多出现m次。如：<code>[a-z]\{6,8\}</code>匹配6到8位的小写字母。</td></tr></tbody></table><h3 id="字符截取"><a href="#字符截取" class="headerlink" title="字符截取"></a>字符截取</h3><ul><li><p><code>cut [选项] 文件名</code> 提取文件某段内容。</p><p>选项：<code>-f 列号</code>：提取第几列；<code>-d 分隔符</code> 按照指定分隔符分割列（默认是<code>Tab键</code>分割）；</p><p>eg：<code>cat /etc/passwd | grep -v &quot;root&quot; | cut -f 1 -d &quot;:&quot;</code></p></li><li><p><code>printf &#39;输出类型 输出格式&#39; 输出内容</code></p><p>输出类型：<kbd>%ns</kbd>：输出字符串（n一般不用写）；<kbd>%ni</kbd>：输出整数；<kbd>%m.nf</kbd>：输出浮点数。</p><p>输出格式：<kbd>\a</kbd>：输出警告声音；<kbd>\b</kbd>：输出退格键（Baskspace）；<kbd>\f</kbd>：清除屏幕；<kbd>\n</kbd>：换行；<kbd>\r</kbd>：回车（Enter）；<kbd>\t</kbd>：水平输出退格键（Tab）；<kbd>\v</kbd>：垂直输出退格键（Tab）；</p></li><li><p><code>awk &#39;条件1{动作1}条件2{动作2}...&#39; 文件名</code> （默认以空格和Tab键作为分隔符）</p><ul><li><p>条件：一般使用关系表达式作为条件。</p></li><li><p>动作：格式化输出；流程控制语句。</p></li><li><p>举例：</p><ol><li><code>awk &#39;{printf $2 &quot;\t&quot; $4 &quot;\n&quot;}&#39; student.txt</code> 输出student.txt 文件的第二列和第四列。</li><li><code>df -h | awk &#39;{printf $5 &quot;\n&quot;}&#39;</code> 截取第五列。</li><li><code>cat /etc/passwd | grep &quot;/bin/bash&quot; | awk &#39;BEGIN{FS=&quot;:&quot;}{printf $1 &quot;\t&quot; $3 &quot;\n&quot;}&#39;</code> 截取 /etc/passwd 中包含 /bin/bash 字段行的第一列和第三列。<kbd>BEGIN{FS=”:”}</kbd> 表示以<code>:</code>作为分隔符，且在后面动作之前执行。</li><li><code>cat student.txt | grep -v Name | awk &#39;$4&gt;=80{printf $2&quot;\n&quot;}&#39;</code> 截取 student.txt 文件中第四列（分数）大于80的名字（第二列）。</li></ol></li></ul></li><li><p><kbd>sed</kbd>命令：用于将数据进行选取、替换、删除和增加的命令</p><ul><li><p><code>sed [-nei] [acipsd] 文件名</code></p><p>选项：</p><ol><li><kbd>-n</kbd>：把经过sed处理的行输出；</li><li><kbd>-e</kbd>：允许输入数据应用多条sed命令；</li><li><kbd>-i</kbd>：直接修改读取数据文件（不加<kbd>-i</kbd>是临时修改并输出）；</li></ol><p>动作：<kbd>a</kbd>：追加；<kbd>c</kbd>：行替换；<kbd>i</kbd>：插入；<kbd>p</kbd>：打印；<kbd>s</kbd>：字符替换；<kbd>d</kbd>：删除；</p><p>举例：</p><ol><li><code>sed -n &#39;2p&#39; student.txt</code> 打印输出第二行数据（不加 -n 时会将第二行打印之后，再把所有数据打印一遍）</li><li><code>sed &#39;2,4d&#39; student.txt</code> 删除第二行到第四行数据（因为没有加<kbd>-i</kbd>所以是临时删除）</li><li><code>sed &#39;4s/85/88/g&#39; student.txt</code> 将第四行的 85 <strong>都</strong>替换成 88</li></ol></li></ul></li><li><p><code>sort [选项] 文件名</code> 排序命令。</p><ul><li><p>选项：</p><ol><li><kbd>-f</kbd>：忽略大小写；</li><li><kbd>-n</kbd>：以数值型进行排序（默认字符串型）；</li><li><kbd>-r</kbd>：反向排序；</li><li><kbd>-t</kbd>：指定分隔符（默认Tab）；</li><li><kbd>-k n[,m]</kbd>：按指定字段范围排序，从n开始，到m结束；</li></ol></li><li><p>举例：</p><p><code>sort -n -t&quot;:&quot; -k 3,3 /etc/passwd</code> 将 /etc/passwd 用<code>:</code>分隔第三个字段以数值型排序。</p></li></ul></li><li><p><code>wc [-lwm] 文件名</code> 统计命令。</p><ul><li>选项：<kbd>-l</kbd>：只统计行数；<kbd>-w</kbd>：只统计单词数；<kbd>-m</kbd>：只统计字符数；</li></ul></li></ul><h3 id="条件判断与流程控制"><a href="#条件判断与流程控制" class="headerlink" title="条件判断与流程控制"></a>条件判断与流程控制</h3><h4 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h4><ul><li><p>格式：<code>[ 测试选项 ]</code>（推荐，注意中括号<strong>内测两边都含有空格</strong>）或<code>test 测试选项</code></p></li><li><p>按文件类型判断</p></li></ul><table><thead><tr><th>测试选项</th><th>作用</th></tr></thead><tbody><tr><td>-b 文件</td><td>判断该文件是否存在，并且是否为块设备文件（是则为真）</td></tr><tr><td>-c 文件</td><td>判断该文件是否存在，并且是否为字符设备文件</td></tr><tr><td><strong>-d 文件</strong></td><td><strong>判断该文件是否存在，并且是否为目录文件</strong></td></tr><tr><td><strong>-e 文件</strong></td><td><strong>判断该文件是否存在</strong></td></tr><tr><td><strong>-f 文件</strong></td><td><strong>判断该文件是否存在，并且是否为普通文件</strong></td></tr><tr><td>-L 文件</td><td>判断该文件是否存在，并且是否为符号链接文件</td></tr><tr><td>-p 文件</td><td>判断该文件是否存在，并且是否为管道文件</td></tr><tr><td>-s 文件</td><td>判断该文件是否存在，并且是否为非空</td></tr><tr><td>-S 文件</td><td>判断该文件是否存在，并且是否为套接字文件</td></tr></tbody></table><ul><li><p>举例：<code>test -e /root/install.log</code> = <code>[ -e /root/install.log ]</code></p><p>执行后不会有任何的输出，可以使用<code>[ -e /root/install.log ] &amp;&amp; echo y || echo n</code> 来判断真假，<strong>y</strong>表示真，<strong>n</strong>表示假（下同）。</p></li></ul><ul><li>按文件权限判断</li></ul><table><thead><tr><th>测试选项</th><th>作用</th></tr></thead><tbody><tr><td><strong>-r 文件</strong></td><td><strong>判断该文件是否存在，并且该文件是否拥有读权限（拥有则为真）</strong></td></tr><tr><td><strong>-w 文件</strong></td><td><strong>判断该文件是否存在，并且该文件是否拥有写权限</strong></td></tr><tr><td><strong>-x 文件</strong></td><td><strong>判断该文件是否存在，并且该文件是否拥有执行权限</strong></td></tr><tr><td>-u 文件</td><td>判断该文件是否存在，并且该文件是否拥有SUID权限</td></tr><tr><td>-g 文件</td><td>判断该文件是否存在，并且该文件是否拥有SGID权限</td></tr><tr><td>-k 文件</td><td>判断该文件是否存在，并且该文件是否拥有SBit权限</td></tr></tbody></table><ul><li>两个文件之间进行比较</li></ul><table><thead><tr><th>测试选项</th><th>作用</th></tr></thead><tbody><tr><td>文件1 -nt 文件2</td><td>判断文件1的修改时间是否比文件2的<strong>新</strong>（如果<strong>新则为真</strong>）</td></tr><tr><td>文件1 -ot 文件2</td><td>判断文件1的修改时间是否比文件2的<strong>旧</strong>（如果<strong>旧则为真</strong>）</td></tr><tr><td>文件1 -et 文件2</td><td>判断文件1和文件2是否为同一个文件（Inode号是否一致），可以很好的判断是否为硬链接。</td></tr></tbody></table><ul><li>两个整数之间比较</li></ul><table><thead><tr><th>测试选项</th><th>作用</th></tr></thead><tbody><tr><td>整数1 -eq 整数2</td><td>判断整数1是否和整数2相等（是则为真）</td></tr><tr><td>整数1 -ne 整数2</td><td>判断整数1是否和整数2不相等</td></tr><tr><td>整数1 -gt 整数2</td><td>判断整数1是否大于整数2</td></tr><tr><td>整数1 -lt 整数2</td><td>判断整数1是否小于整数2</td></tr><tr><td>整数1 -ge 整数2</td><td>判断整数1是否大于等于整数2</td></tr><tr><td>整数1 -le 整数2</td><td>判断整数1是否小于等于整数2</td></tr></tbody></table><ul><li>字符串的判断</li></ul><table><thead><tr><th>测试选项</th><th>说明</th></tr></thead><tbody><tr><td>-z 字符串</td><td>判断字符串是否为空（是则为真）</td></tr><tr><td>-n 字符串</td><td>判断字符串是否非空</td></tr><tr><td>字符串1 == 字符串2</td><td>判断字符串1是否和字符串2相等（注意<code>==</code> 的两侧都含有空格）</td></tr><tr><td>字符串 != 字符串</td><td>判断字符串1是否和字符串2不相等（注意<code>!=</code> 的两侧都含有空格）</td></tr></tbody></table><ul><li>多重条件判断</li></ul><table><thead><tr><th>测试选项</th><th>说明</th></tr></thead><tbody><tr><td>判断1 -a 判断2</td><td>逻辑与（and），判断1和判断2都成立，最终结果才为真</td></tr><tr><td>判断1 -o 判断2</td><td>逻辑或（or），判断1和判断2有一个成立，最终结果才为真</td></tr><tr><td>! 判断</td><td>逻辑非，使原始的判断式取反</td></tr></tbody></table><h4 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h4><ul><li><p>单分支<code>if</code>语句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> [条件判断式];<span class="keyword">then</span></div><div class="line">	条件成立时程序</div><div class="line"><span class="keyword">fi</span></div><div class="line">  </div><div class="line"><span class="keyword">if</span> [条件判断式]</div><div class="line">	<span class="keyword">then</span></div><div class="line">	条件成立时程序</div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure></li><li><p>双分支<code>if</code>语句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> [条件判断式]</div><div class="line">	<span class="keyword">then</span></div><div class="line">		条件成立时程序</div><div class="line">	<span class="keyword">else</span></div><div class="line">		条件成立时程序</div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure></li><li><p>多分支<code>if</code>语句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> [条件判断式1]</div><div class="line">	<span class="keyword">then</span></div><div class="line">		条件1成立时程序</div><div class="line">	<span class="keyword">elif</span> [条件判断式2]</div><div class="line">		<span class="keyword">then</span></div><div class="line">		条件2成立时程序</div><div class="line">	<span class="keyword">else</span></div><div class="line">		以上条件都不满足时程序</div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure></li><li><p>多分支<code>case</code>语句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">case</span> $变量名 <span class="keyword">in</span></div><div class="line">	<span class="string">"值1"</span> )</div><div class="line">		满足条件的程序</div><div class="line">		;;</div><div class="line">	<span class="string">"值2"</span> )</div><div class="line">		满足条件的程序</div><div class="line">		;;</div><div class="line">	* )</div><div class="line">		以上条件都不满足时程序</div><div class="line">		;;</div><div class="line"><span class="keyword">esac</span></div></pre></td></tr></table></figure><p>注意：执行每段程序最后都有<code>;;</code>。</p></li><li><p><code>for</code>循环</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 值1 值2 值3 </div><div class="line">	<span class="keyword">do</span></div><div class="line">		程序段</div><div class="line">	<span class="keyword">done</span></div><div class="line">	</div><div class="line"><span class="keyword">for</span>(( 初始值;循环控制条件;变量变化 ))</div><div class="line">	<span class="keyword">do</span></div><div class="line">		程序段</div><div class="line">	<span class="keyword">done</span></div></pre></td></tr></table></figure></li><li><p><code>while</code>循环</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span> [条件判断式]</div><div class="line">	<span class="keyword">do</span></div><div class="line">		程序段</div><div class="line">	<span class="keyword">done</span></div></pre></td></tr></table></figure><p>条件成立，则开始执行。</p></li><li><p><code>until</code>循环</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">until [条件判断式]</div><div class="line">	<span class="keyword">do</span></div><div class="line">		程序段</div><div class="line">	<span class="keyword">done</span></div></pre></td></tr></table></figure><p>先执行程序，到满足条件时停止。</p></li></ul><h2 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h2><h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><ul><li><code>sudo yum install firewalld</code> 安装防火墙</li><li><code>service firewalld start | stop | status | disable</code> 启动、禁用、状态、停止</li></ul><h3 id="配置-firewalld-cmd"><a href="#配置-firewalld-cmd" class="headerlink" title="配置 firewalld-cmd"></a>配置 firewalld-cmd</h3><ul><li><code>firewall-cmd --version</code> 查看版本</li><li><code>firewall-cmd --help</code> 查看帮助</li><li><code>firewall-cmd –state</code> 显示状态</li><li><code>firewall-cmd --get-zones</code> 列出所有的区域</li><li><code>firewall-cmd --get-default-zone</code> 列出默认区域</li><li><code>firewall-cmd --list-all-zone</code> 列出所有区域配置</li><li><code>firewall-cmd --zone=public --list-ports</code> 查看所有打开的端口</li><li><code>iptables -L -n</code> 查看规则</li><li><code>firewall-cmd --reload</code> 更新防火墙规则</li><li><code>firewall-cmd --get-active-zones</code> 查看区域信息</li><li><p><code>firewall-cmd --get-zone-of-interface=eth0</code> 查看指定接口所属区域</p></li><li><p>开启/关闭一个端口</p><ul><li>添加：<code>firewall-cmd --zone=public --add-port=80/tcp</code></li><li>重新载入：<code>firewall-cmd --reloa</code></li><li>查看：<code>firewall-cmd --zone=public --query-port=80/tcp</code></li><li>删除：<code>firewall-cmd --zone=public --remove-port=80/tcp</code></li></ul></li></ul><h2 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h2><h3 id="系统运行级别"><a href="#系统运行级别" class="headerlink" title="系统运行级别"></a>系统运行级别</h3><ul><li>系统运行级别：</li></ul><table><thead><tr><th>运行级别</th><th>含义</th></tr></thead><tbody><tr><td>0</td><td>关机</td></tr><tr><td>1</td><td>单用户模式，可以想象为Windows中的安全模式，主要用于系统修复</td></tr><tr><td>2</td><td>不完全的命令行模式，不含NFS服务</td></tr><tr><td>3</td><td>完全的命令行模式，就是标准字符界面</td></tr><tr><td>4</td><td>系统保留</td></tr><tr><td>5</td><td>图形模式</td></tr><tr><td>6</td><td>重启</td></tr></tbody></table><ul><li><p><code>runlevel</code> 查看当前运行级别。</p><p>输出<code>N 3</code> ：<kbd>N</kbd>：表示Null，表示上次使用的级别；<kbd>3</kbd>：表示当前级别。</p></li><li><p><code>init 5</code> 修改运行级别</p></li><li><p><code>vi /etc/inittab</code> 修改运行级别的文件</p><p>写入<code>id:3:initdefault</code> 系统开机后直接进入 3 级别。</p></li><li><p><code>chkconfig --list</code> 查看RPM包安装的服务（查看服务自启动状态）</p><p>源码包安装服务，安装位置一般在<code>/usr/local/</code> 下。</p></li><li><p><code>systemctl list-unit-files</code> CentOS 7查看服务是否自启动</p></li><li><p><code>vi /etc/services</code> 查看所有常见端口号</p></li><li><p><code>netstat [-tunla]</code> 查询网络状态</p><p>选项：<kbd>-t</kbd>：列出TCP协议端口；<kbd>-u</kbd>：列出UDP协议端口；<kbd>-n</kbd>：不使用域名与服务器，而使用IP地址和端口号；<kbd>-l</kbd>：仅列出在监听状态网络服务；<kbd>-a</kbd>：列出所有的网络连接；</p></li></ul><h3 id="RPM包服务管理"><a href="#RPM包服务管理" class="headerlink" title="RPM包服务管理"></a>RPM包服务管理</h3><ul><li><p>独立服务管理</p><ul><li>启动服务（停止/重启/状态）<ol><li><code>service httpd start/stop/restart/status</code></li><li><code>systemctl start/stop/restart/status httpd.service</code> CentOS 7 推荐使用。</li><li><code>/etc/rc.d/init.d/服务名 start/stop/restart/status</code></li></ol></li><li>自启动服务<ol><li><code>chkconfig [--level 运行级别] [独立服务名] [on/off]</code></li><li>修改<code>/etc/rc.d/rc.local</code> 和 <code>/etc/rc.local</code> 在该文件中加入启动服务命令，并保存，重启</li></ol></li></ul></li><li><p>基于 <code>xinetd</code> 服务管理</p><ol><li><p>安装 xinetd 服务</p><p><code>yum -y install xinetd</code></p></li><li><p><code>vi /etc/xinetd.d/rsync</code> 在CentOS 7 下没有该文件</p><p><code>desable = no</code></p></li><li><p><code>systemctl start xinetd.service</code> 启动</p></li><li><p><code>netstat -lunt</code> xinetd启动后端口号为873（<code>grep rsync /etc/services</code>）</p></li><li><p>自启动：</p><p><code>chkconfig rsync on</code></p></li></ol></li><li><p>在<strong>xinetd</strong>中的启动和自启动<strong>通用</strong>。在<strong>独立服务管理</strong>中启动和自启动是<strong>分开</strong>的。</p></li></ul><h3 id="源码包服务管理"><a href="#源码包服务管理" class="headerlink" title="源码包服务管理"></a>源码包服务管理</h3><ul><li><p>使用绝对路径启动</p></li><li><p>自启动</p><ul><li><p>修改<code>/etc/rc.d/rc/rc.local</code> 和 <code>/etc/rc.local</code> 在该文件中加入启动服务命令，并保存，重启</p></li><li><p>可以使用软链接的方式使 apache 源码包用 service 方式管理：</p><p><code>ln -s /usr/local/apache2/bin/apachectl /etc/init.d/apache</code></p></li></ul></li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><img src="http://imgs.xiongchang.vip/img_36.jpg" alt="http://imgs.xiongchang.vip/img_36.jpg" style="zoom:80%"></p><h2 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h2><h3 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h3><ul><li><p>作用：</p><ol><li>判断服务器健康状态</li><li>查看系统中所有进程</li><li>杀死进程</li></ol></li><li><p><code>ps [aux]</code> 查看系统中所有进程，使用BSD操作系统格式</p><ul><li><p>选项：<kbd>a</kbd>：显示一个终端的所有进程，除了会话引线；<kbd>u</kbd>：显示进程的归属用户及内存的使用情况；<kbd>x</kbd>：显示没有控制终端的进程；</p></li><li><p>输出的字段信息：</p></li></ul></li></ul><table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>USER</td><td>该进程是由哪个用户产生的</td></tr><tr><td>PID</td><td>进程的ID号</td></tr><tr><td>%CPU</td><td>占用的CPU百分比</td></tr><tr><td>%MEM</td><td>占用的物理内存百分比</td></tr><tr><td>VSZ</td><td>占用的虚拟内存大小，单位KB</td></tr><tr><td>RSS</td><td>占用实际物理内存的大小，单位KB</td></tr><tr><td>TTY</td><td>该进程是在哪个终端中运行的。tty1-tty7代表本地控制台终端，其中tty7是图形终端。<br>pts/0-255 表示虚拟终端。</td></tr><tr><td>STAT</td><td>进程状态。（<kbd>R</kbd>：运行；<kbd>S</kbd>：睡眠；<kbd>T</kbd>：停止；<kbd>s</kbd>：包含子进程；<kbd>+</kbd>：位于后台）</td></tr><tr><td>START</td><td>启动时间</td></tr><tr><td>TIME</td><td>占有CPU的运算时间，注意不是系统时间</td></tr><tr><td>COMMAND</td><td>产生此进程的命令名</td></tr></tbody></table><ul><li><p><code>ps [-le]</code> 查看系统中所有进程，使用 Linux 标准命令格式</p><p><kbd>-l</kbd>：长格式显示。显示更加详细的信息；<kbd>-e</kbd>：显示所有进程，和<kbd>-A</kbd>作用一致；</p></li><li><p><code>pstree [-pu]</code> 查看进程树。</p><p>选项：<kbd>-p</kbd>：显示进程PID；<kbd>-u</kbd>：显示进程的所属用户；</p></li><li><p><code>top [选项]</code> 查看系统健康状态（看的是部分占比较高的资源占比情况）</p><p>选项：</p><p><kbd>-d 秒数</kbd>：指定 top 命令每隔几秒更新，默认 3 秒；</p><p><kbd>-b</kbd>：使用批处理模式输出，一般和<kbd>-n</kbd>选项合用；</p><p><kbd>-n 次数</kbd>：指定 top 命令执行的次数；</p><p>举例：<code>top -b -n 1 &gt; top.log</code> 查看所有资源cpu占比情况</p></li><li><p>在 top 命令的交互模式中可以执行的命令：</p><p><kbd>？或h</kbd>：显示交互模式帮助</p><p><kbd>P</kbd>：以CPU使用率排序（默认项）</p><p><kbd>M</kbd>：以内存的使用率排序</p><p><kbd>N</kbd>：以PID排序</p><p><kbd>q</kbd>：退出 top</p></li><li><p>top 命令输出的字段信息：</p><p><img src="http://imgs.xiongchang.vip/img_37.jpg" alt="http://imgs.xiongchang.vip/img_37.jpg"></p><ul><li>第一行：系统当前时间；系统运行时间；当前登录用户数；系统在1min，5min，15min的平均负载（单核不大于1，双核不大于2，四核不大于4）。</li><li>第二行：系统中进程总数；正在运行进程数；睡眠进程数；正在停止的进程；僵尸进程（如果不是0，需要手工检查僵尸进程）。</li><li>第三行：用户模式占用的 CPU 百分比；系统模式占用的 CPU 百分比；改变过优先级的用户进程占用的 CPU 百分比；空闲 CPU 的 CPU 百分比；等待输入/输出的进程的占用 CPU 百分比；硬中断请求服务占用的 CPU 百分比；软中断请求服务占用的 CPU 百分比；虚拟时间百分比。</li><li>第四行：总空间大小；剩余空间大小；以使用大小空间；缓冲大小。</li><li>第五行：总空间大小；剩余空间大小；以使用大小空间；缓冲大小。</li></ul></li></ul><h3 id="杀死进程"><a href="#杀死进程" class="headerlink" title="杀死进程"></a>杀死进程</h3><ul><li><p>kill 命令</p><ul><li><code>kill -l</code> 查看可用的进程代号</li></ul></li></ul><table><thead><tr><th>信号代号</th><th>信号名称</th><th>说明</th></tr></thead><tbody><tr><td>1</td><td>SIGHUP</td><td>该信号让进程立即关闭，然后重新读取配置文件之后重启。</td></tr><tr><td>2</td><td>SIGINT</td><td>程序终止信号，用于终止前台进程。相当于<kbd>Ctrl+C</kbd>快捷键。</td></tr><tr><td>8</td><td>SIGFPE</td><td>在发生致命的算数运算错误时发出。不仅包括浮点运算错误，还包括溢出及除数为0等其他所有的算数的错误。</td></tr><tr><td>9</td><td>SIGKILL</td><td>用来立即结束程序的运行。本信号不能被阻塞、处理和忽略。一般用于强制终止进程。</td></tr><tr><td>14</td><td>SIGALRM</td><td>时钟定时信号，计算的是实际的时间或时钟时间。<code>alarm函数</code>使用该信号。</td></tr><tr><td>15</td><td>SIGTERM</td><td>正常结束进程的信号，<code>kill命令</code>的默认信号。有时如果进程已经发生问题，这个信号是无法正常终止进程的，我们才会尝试该信号。</td></tr><tr><td>18</td><td>SIGCONT</td><td>该信号可以让暂停的进程恢复执行，本信号不能被阻断。</td></tr><tr><td>19</td><td>SIGSTOP</td><td>该信号可以暂停前台进程，相当于输出<kbd>Ctrl+Z</kbd>快捷键。本信号不能被阻断。</td></tr></tbody></table><ul><li><code>kill [代号] 进程号</code> 按照进程号杀死进程</li></ul><ul><li><p>killall 命令</p><ul><li><p><code>killall [-iI] [代号] 进程名</code> 按照进程名杀死进程</p><p>选型：<kbd>-i</kbd>：交互式，询问是否要杀死某个进程；<kbd>-I</kbd>：忽略进程名的大小写；</p></li></ul></li><li><p>pkill 命令</p><ul><li><code>pkill [代号] [-t 终端号] 进程名</code> 按照进程名杀死进程。<kbd>-t 终端号</kbd>：按照终端号踢出用户；</li><li>先用<kbd>w</kbd>命令查看登录的用户，再用<code>pkill命令</code>踢出用户。</li><li>举例：<code>pkill -9 -t pts/1</code> 踢出 pts/1 用户。</li></ul></li></ul><h3 id="修改进程优先级"><a href="#修改进程优先级" class="headerlink" title="修改进程优先级"></a>修改进程优先级</h3><ul><li><p><code>nice [-n NI值] 命令</code> nice命令可以给新执行的命令直接赋予NI值，但是不能修改已经存在进程的NI值。</p><p>选项：<kbd>-n NI值</kbd>：给命令赋予NI值；</p><p>举例：<code>nice -n -5 service httpd start</code></p></li><li><p><code>renice [优先级] PID</code> renice 命令是修改已经存在进程的NI值的命令。</p><p>举例：<code>renice -10 2125</code></p></li><li><p>修改NI值时有几个注意事项：</p><ol><li>NI 值的范围是 -20 到 19；</li><li>普通用户调整 NI 值的范围是 0 到 19；而且只能调整自己的进程</li><li>普通用户只能调高 NI 值，而不能降低。如原本 NI 值为 0，则只能调整为大于 0；</li><li>root 用户才能设定进程 NI 值，而且可以调整任何用户的进程。</li><li>PRI（最终值） = PRI（原始值） + NI ；</li><li>用户只能修改 NI 值，不能直接修改 PRI。</li></ol></li></ul><h3 id="工作管理"><a href="#工作管理" class="headerlink" title="工作管理"></a>工作管理</h3><ul><li>注意事项：<ol><li>当前的登录终端，只能管理当前终端工作，而不能管理其他登录终端的工作；</li><li>放入后台的命令必须可以持续运行一段时间，这样我们才能捕捉和操作这个工作；</li><li>放入后台执行的命令不能和前台用户有交互或需要前台输入，否则放入后台只能暂停，而不能执行。（例如：top 命令；vi 命令）</li></ol></li><li><code>命令 &amp;</code> 把命令放入后台，并在后台执行</li><li><kbd>Ctrl+Z</kbd>可以把正在执行的程序放到后台，并且是<strong>暂停状态</strong>。</li><li><code>bg %工作号</code> 把后台暂停的工作恢复到后台执行（不能和前台有交互）</li><li><code>fg %工作号</code> 将后台暂停的工作恢复到前台工作。</li><li><code>jobs [-l]</code> 查看后台工作，<kbd>-l</kbd>：显示工作的PID。</li><li>后台命令脱离登陆终端执行的方法：<ol><li>第一种方法是把需要后台执行的命令加入<code>/etc/rc.local</code>文件；</li><li>第二种方法是使用系统定时任务，让系统在指定的时间执行某个后台命令（不推荐）；</li><li>第三种方法是使用<code>nohup</code>命令。（<code>nohup 执行的文件或命令 &amp;</code>）</li></ol></li></ul><h3 id="系统资源查看"><a href="#系统资源查看" class="headerlink" title="系统资源查看"></a>系统资源查看</h3><ul><li><p><code>vmstat [刷新延时 刷新次数]</code> vmstat 命令监控系统资源</p></li><li><p>vmstart 输出的字段信息：</p><p><img src="http://imgs.xiongchang.vip/img_38.png" alt="http://imgs.xiongchang.vip/img_38.png"></p><ul><li><code>procs</code>：进程信息字段<ul><li><kbd>r</kbd>：等待运行的进程数，数量越大，系统越繁忙；</li><li><kbd>b</kbd>：不可被唤醒的进程数，数量越大，系统越繁忙；</li></ul></li><li><code>memory</code>：内存信息字段<ul><li><kbd>swpd</kbd>：虚拟内存的使用情况，单位KB；</li><li><kbd>free</kbd>：空闲的内存容量，单位KB；</li><li><kbd>buff</kbd>：缓冲的内存容量，单位KB；（缓存是用来加速数据“写入”硬盘的）</li><li><kbd>cache</kbd>：缓存的内存容量，单位KB；（缓存是用来加速数据从硬盘中“读取”的）</li></ul></li><li><code>swap</code>：交换分区信息字段<ul><li><kbd>si</kbd>：从磁盘中交换到内存中数据的数量，单位KB；</li><li><kbd>so</kbd>：从内存中交换到磁盘中数据的数量，单位KB；</li><li>两个数越大，证明数据需要经常在磁盘和内存之间交换，系统性能较差。</li></ul></li><li><code>io</code>：磁盘读写信息字段<ul><li><kbd>bi</kbd>：从块设备读入数据的总量，单位块；</li><li><kbd>bo</kbd>：写到块设备的数据的总量，单位块；</li><li>两个数越大，代表系统的 I/O 越繁忙。</li></ul></li><li><code>system</code>：系统信息字段<ul><li><kbd>in</kbd>：每秒被中断的进程次数；</li><li><kbd>cs</kbd>：每秒进行的事件切换次数；</li><li>两个数越大，代表系统与接口设备的通信非常繁忙。</li></ul></li><li><code>cpu</code>：<ul><li><kbd>us</kbd>：非内核进程消耗 CPU 运行时间的百分比；</li><li><kbd>sy</kbd>：内核进程消耗 CPU 运行时间的百分比；</li><li><kbd>id</kbd>：空闲 CPU 的百分比；</li><li><kbd>wa</kbd>：等待 I/O 所消耗的 CPU 百分比；</li><li><kbd>st</kbd>：被虚拟机所盗用的 CPU 占比；</li></ul></li></ul></li><li><p><code>dmesg</code> 开机时内核检测信息</p><p><code>dmesg | grep CPU</code></p></li><li><p><code>free [-bkmg]</code> 查看内存使用状态。</p><p>选项：<kbd>-b</kbd>：以 b 为单位；<kbd>-k</kbd>：以 Kb 为单位；<kbd>-m</kbd>：以 Mb 为单位；<kbd>-g</kbd>：以 Gb 为单位；</p><p>free 输出的字段信息：</p><p><img src="http://imgs.xiongchang.vip/img_39.png" alt="http://imgs.xiongchang.vip/img_39.png"></p><ul><li><code>total</code>：表示总内存数；<code>used</code> ：表示已使用的内存数；<code>free</code> ：空闲的内存数；<code>shared</code> ：表示多个进程共享的内存总数；</li></ul></li><li><p><code>cat /proc/cpuinfo</code> 查看 CPU 信息</p></li><li><p><code>uptime</code> 显示系统的<strong>启动时间</strong>和<strong>平均负载</strong>，也就是<code>top</code>命令的第一行，<code>w</code>命令也可以看到这个数据。</p></li><li><p><code>uname [-ars]</code> 查看系统与内核相关信息。</p><p>选项：<kbd>-a</kbd>：查看系统所有相关信息；<kbd>-r</kbd>：查看内核版本；<kbd>-s</kbd>：查看内核名称。</p></li><li><p><code>file /bin/ls</code> 判断当前系统的位数。</p></li><li><p><code>cat /etc/centos-release</code> 查询当前Linux系统的发行版本。</p></li><li><p><code>lsof [选项]</code> 列出进程打开或使用的文件信息。</p><p>选项：</p><p><kbd>-c 字符串</kbd>：只列出以字符串开头的进程打开的文件；</p><p><kbd>-u 用户名</kbd>：只列出某个用户的进程打开的文件；</p><p><kbd>-p PID</kbd>：列出某个 PID 进程打开的文件；</p><p><kbd>文件</kbd>：列出该文件被哪个进程调用；</p></li></ul><h3 id="系统定时任务"><a href="#系统定时任务" class="headerlink" title="系统定时任务"></a>系统定时任务</h3><ul><li><p><code>at</code> 一次性定时任务：</p><ul><li><p>查看是否安装并启动 at 服务。</p><p><code>chkconfig --list | grep atd</code> 查看 at 服务是否安装</p><p><code>service atd restart</code> 重启 at 服务</p></li><li><p>at 的访问控制：</p><ol><li>如果系统中有<code>/etc/at.allow</code>文件（白名单），那么只有写入该文件中的用户可以使用<kbd>at</kbd>命令（<code>/etc/at.deny</code>文件会被忽略）；</li><li>如果系统中没有<code>/etc/at.allow</code>文件（白名单），只有<code>/etc/at.deny</code>文件（黑名单），那么写入该文件中的用户不能使用<kbd>at</kbd>命令。（对 root 不起作用）；</li><li>如果系统中这两个文件都不存在，那么只有 <strong>root 用户</strong>可以使用<kbd>at</kbd>命令。</li></ol></li><li><p><code>at [选项] 时间</code></p><ul><li><p>选项：</p><p><kbd>-m</kbd>：当 at 工作完成后，无论是否命令有输出，都用 Email 通知执行 at 命令的用户；</p><p><kbd>-c 工作号</kbd>：显示该 at 工作的实际内容；</p></li><li><p>时间：</p><p><kbd>HH:MM</kbd>：如：02:30；</p><p><kbd>HH:MM YYYY-MM-DD</kbd>：如：02:30 2019-08-10；</p><p><kbd>HH:MM [am|pm] [month] [date]</kbd>：如：02:30 July 10；</p><p><kbd>HH:MM [am|pm]+[minutes|hours|days|weeks]</kbd>：如：now+2minutes；</p></li></ul></li><li><p><code>atq</code> 查询当前服务器上的 at 工作。</p></li><li><p><code>atrm [工作号]</code> 删除指定的 at 任务。</p></li></ul></li><li><p><code>crontab</code> 循环定时任务：</p><ul><li><p>查看 crontab 服务状态</p><p><code>service crond status</code></p></li><li><p>crontab 的访问控制：</p><ol><li>如果系统中有<code>/etc/cron.allow</code>文件（白名单），那么只有写入该文件中的用户可以使用<kbd>crontab</kbd>命令（<code>/etc/cron.deny</code>文件会被忽略）；</li><li>如果系统中没有<code>/etc/cron.allow</code>文件（白名单），只有<code>/etc/cron.deny</code>文件（黑名单），那么写入该文件中的用户不能使用<kbd>cron</kbd>命令。（对 root 不起作用）；</li><li>如果系统中这两个文件都不存在，那么只有 <strong>root 用户</strong>可以使用<kbd>cron</kbd>命令。</li></ol></li><li><p><code>crontab [-elr]</code></p><p>选项：<kbd>-e</kbd>：编辑 crontab 定时任务；<kbd>-l</kbd>：查询 crontab 任务；<kbd>-r</kbd>：删除当前用户所有的 crontab 任务；</p><p><code>crontab -e</code> 会进入 crontab 编辑界面，会打开 vim 编辑你的工作。</p><p>格式：<code>* * * * * 执行的任务</code> 定时执行任务（执行的任务可以是<strong>命令</strong>或者<strong>脚本</strong>）</p></li></ul></li></ul><table><thead><tr><th>项目</th><th>含义</th><th>范围</th></tr></thead><tbody><tr><td>第一个<code>*</code></td><td>一小时当中的第几分钟</td><td>0 - 59</td></tr><tr><td>第二个<code>*</code></td><td>一天当中的第几个小时</td><td>0 - 23</td></tr><tr><td>第三个<code>*</code></td><td>一个月当中的第几天</td><td>1 - 31</td></tr><tr><td>第四个<code>*</code></td><td>一年当中的第几月</td><td>1 - 12</td></tr><tr><td>第五个<code>*</code></td><td>一周当中第几星期</td><td>0 - 7（0和7都表示星期天）</td></tr></tbody></table><table><thead><tr><th>特殊符号</th><th>含义</th></tr></thead><tbody><tr><td><code>*</code></td><td>代表任何时间。</td></tr><tr><td><code>,</code></td><td>代表不连续的时间。比如：<code>0 8,12,16 * * * 命令</code>就代表每天的8、12、16点整都执行一次。</td></tr><tr><td><code>-</code></td><td>代表连续的时间范围。比如：<code>0 5 * * 1-6 命令</code>代表在周一到周六 5 点整执行命令。</td></tr><tr><td><code>*/n</code></td><td>代表每隔多久执行一次。比如：<code>*/10 * * * * 命令</code>代表每隔 10 分钟就执行一次。</td></tr></tbody></table><p><a href="http://cron.qqe2.com/" target="_blank" rel="external">该网站可以在线定制时间的格式</a>。</p><ul><li><p>系统的 crontab 设置：编辑<code>/etc/contab</code> 文件（不推荐）</p></li><li><p><code>anacron</code> 配置：</p><ul><li>anacron 是用来保证在系统关机的时候错过的定时任务，可以在系统开机之后再执行。</li><li>anacron 检测周期：<ol><li>anacron 会使用一天、一周】一个月作为检测周期；</li><li>在系统的<code>/var/spool/anacron</code>目录中存在<code>cron.{daily,weekly,monthly}</code>文件，用于记录上次执行 cron 的时间；</li><li>和当前时间左比较，如果两个时间的差值超过了 anacron 的指定时间差值，证明有 cron 任务被执行。</li></ol></li><li><code>vi /etc/anacrontab</code> 编辑 anacron 配置文件。</li></ul></li><li><p>系统定时任务：</p><ol><li>把需要定时执行的脚本复制到<code>/etc/cron.{daily,weekly,monthly}</code>目录中的任意一个。（<strong>推荐</strong>）</li><li>修改<code>/etc/contab</code> 文件。（不推荐）</li></ol></li></ul><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><h3 id="安装图形界面"><a href="#安装图形界面" class="headerlink" title="安装图形界面"></a>安装图形界面</h3><ol><li>查看是否有网：<code>ping -c 4 www.baidu.com</code> ；</li><li>安装：<code>yum groupinstall -y &quot;GNOME Desktop&quot;</code> ；</li><li>等待安装；</li><li><code>init 5</code> 进入图形界面。</li></ol><h3 id="修改-root-密码"><a href="#修改-root-密码" class="headerlink" title="修改 root 密码"></a>修改 root 密码</h3><ol><li><p>重启 <strong>3秒内</strong> 按<kbd>↓</kbd>键，停留开机界面；定位第一行键入<kbd>e</kbd>，进入界面；将光标移动到<kbd>Linux16</kbd>开头的行。</p></li><li><p>光标移到<kbd>ro</kbd>将<kbd>ro</kbd>改成<code>rw init=/sysroot/bin/bash</code>；<kbd>Ctrl+X</kbd>进入 emergency 模式；</p></li><li><p><code>chroot /sysroot/</code> 切换到原始系统；</p><p><code>passwd</code> 修改密码命令；</p></li><li><p>输入并确定密码；</p></li><li><p><code>touch /.autorelabel</code> 让密码生效；</p></li><li><p><kbd>Ctrl+D</kbd>退出；<code>reboot</code> 重启。</p></li></ol><h3 id="密钥认证"><a href="#密钥认证" class="headerlink" title="密钥认证"></a>密钥认证</h3><ol><li><p>用 <strong>PuTTY 工具</strong>连接 Linux；</p></li><li><p>用 <strong>PuTTYgen 工具</strong>生成密钥，并为密钥生成密码；</p></li><li><p>保存私钥到指定位置；</p></li><li><p>复制公钥，粘贴在<code>/root/.ssh/authorized_keys</code> 文件中并保存（<code>.ssh</code>目录权限为 700）；</p></li><li><p><code>vi /etc/selinux/config</code> 编辑文件</p><p><code>SELINUX = disable</code> 关闭SELinux</p></li><li><p>在 PuTTY 工具中，给对应session导入刚保存的私钥路径，并保存；</p></li><li><p>启动 PuTTY 后，输入用户名和密钥密码即可登录（不是原来的 root 密码）。</p></li></ol><h3 id="shell-脚本"><a href="#shell-脚本" class="headerlink" title="shell 脚本"></a>shell 脚本</h3><ul><li><p><code>data [选项]</code> 表示时间</p><ul><li><p>选项：</p><p><code>+%y</code>：两位数字打印年份；</p><p><code>+%Y</code>：四位数字打印年份；</p><p><code>+%m</code>：月份；</p><p><code>+%d</code>：日期；</p><p><code>+%H</code>：小时；</p><p><code>+%M</code>：分钟；</p><p><code>+%S</code>：秒；</p><p><code>+%w</code>：星期，0 表示星期天；</p></li></ul></li></ul><h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><ul><li><code>env</code> 列出系统预设的全部系统变量；</li><li><code>set</code> 与 env 类似，也可以输出环境变量。</li></ul><h3 id="与文档相关的命令"><a href="#与文档相关的命令" class="headerlink" title="与文档相关的命令"></a>与文档相关的命令</h3><ul><li><code>cat [-nA] 文件名</code> 查看文件。<kbd>-n</kbd>：显示行号；<kbd>-A</kbd>：显示所有内容，包括特殊字符；</li><li><code>tac 文件名</code> 反序查看文件。</li><li><code>more 文件名</code> 查看文件。</li><li><code>less 文件名</code> 查看文件。</li><li><code>head -X 文件名</code> 查看文件前 X 行（X是一个数字）。</li><li><code>tail [-fX] 文件名</code> 查看文件。<kbd>-f</kbd>：动态查看文件；<kbd>-X</kbd>：静态查看文件后 X 行（X是一个数字）；</li></ul></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div></div><div><div class="my_post_copyright"><script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script><script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script><script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script><p><span>本文标题:</span><a href="/Linux常用命令（三）.html">Linux常用命令（三）</a></p><p><span>文章作者:</span><a href="/" title="访问 Mr.xiong 的个人博客">Mr.xiong</a></p><p><span>发布时间:</span>2019年12月03日 - 12:12</p><p><span>最后更新:</span>2019年12月03日 - 12:12</p><p><span>原始链接:</span><a href="/Linux常用命令（三）.html" title="Linux常用命令（三）">http://blog.xiongchang.vip/Linux常用命令（三）.html</a> <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="http://blog.xiongchang.vip/Linux常用命令（三）.html" aria-label="复制成功！"></i></span></p><p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p></div><script>var clipboard=new Clipboard(".fa-clipboard");$(".fa-clipboard").click(function(){clipboard.on("success",function(){swal({title:"",text:"复制成功",icon:"success",showConfirmButton:!0})})})</script></div><div class="reward-container"><div>请作者喝咖啡</div><button disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="http://imgs.xiongchang.vip/wx.png" alt="Mr.xiong 微信支付"><p>微信支付</p></div><div style="display:inline-block"><img src="http://imgs.xiongchang.vip/zfb.jpg" alt="Mr.xiong 支付宝"><p>支付宝</p></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a> <a href="/tags/常用命令/" rel="tag"><i class="fa fa-tag"></i> 常用命令</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/java基础（一）.html" rel="next" title="java基础（一）"><i class="fa fa-chevron-left"></i> java基础（一）</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"></div></div></footer></article></div></div><div class="comments" id="comments"></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#shell编程"><span class="nav-text">shell编程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#bash-变量"><span class="nav-text">bash 变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#运算符"><span class="nav-text">运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#环境变量与配置文件"><span class="nav-text">环境变量与配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#正则表达式"><span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符截取"><span class="nav-text">字符截取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#条件判断与流程控制"><span class="nav-text">条件判断与流程控制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#防火墙"><span class="nav-text">防火墙</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基本使用"><span class="nav-text">基本使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置-firewalld-cmd"><span class="nav-text">配置 firewalld-cmd</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#服务管理"><span class="nav-text">服务管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#系统运行级别"><span class="nav-text">系统运行级别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RPM包服务管理"><span class="nav-text">RPM包服务管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#源码包服务管理"><span class="nav-text">源码包服务管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结"><span class="nav-text">总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#系统管理"><span class="nav-text">系统管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#进程管理"><span class="nav-text">进程管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#杀死进程"><span class="nav-text">杀死进程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改进程优先级"><span class="nav-text">修改进程优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#工作管理"><span class="nav-text">工作管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#系统资源查看"><span class="nav-text">系统资源查看</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#系统定时任务"><span class="nav-text">系统定时任务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#补充"><span class="nav-text">补充</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安装图形界面"><span class="nav-text">安装图形界面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-root-密码"><span class="nav-text">修改 root 密码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#密钥认证"><span class="nav-text">密钥认证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shell-脚本"><span class="nav-text">shell 脚本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#环境变量"><span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#与文档相关的命令"><span class="nav-text">与文档相关的命令</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/"><img class="site-author-image" itemprop="image" src="http://imgs.xiongchang.vip/head.jpeg" alt="Mr.xiong"></a><p class="site-author-name" itemprop="name">Mr.xiong</p><div class="site-description" itemprop="description">日行一善</div></div><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=467567680&auto=0&height=66"></iframe><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">10</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">13</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i>RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/xbrownbear" title="GitHub &rarr; https://github.com/xbrownbear" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:1070375764@qq.com" title="E-Mail &rarr; mailto:1070375764@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> 推荐阅读</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://theme-next.org/docs/getting-started/" title="https://theme-next.org/docs/getting-started/" rel="noopener" target="_blank">Theme-nexT</a></li><li class="links-of-blogroll-item"><a href="https://www.google.com" title="https://www.google.com" rel="noopener" target="_blank">google</a></li><li class="links-of-blogroll-item"><a href="https://blog.csdn.net/qq_36759224/article/details/85420403#font_colorFF0000___font_66" title="https://blog.csdn.net/qq_36759224/article/details/85420403#font_colorFF0000___font_66" rel="noopener" target="_blank">TRHX</a></li></ul></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Mr.xiong</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">135k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">2:03</span></div><div class="addthis_inline_share_toolbox"><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5da135c42387c827" async></script></div><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script>function createtime(){var n=new Date("10/01/2019 13:14:21");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站已安全运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}var now=new Date;setInterval("createtime()",250)</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span>访客量 <span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span>访问量 <span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script color="0,0,255" opacity="0.8" zindex="-1" count="300" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script><script src="//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script><script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script><script src="/js/utils.js?v=7.4.1.js"></script><script src="/js/motion.js?v=7.4.1.js"></script><script src="/js/schemes/pisces.js?v=7.4.1.js"></script><script src="/js/next-boot.js?v=7.4.1.js"></script><script src="/js/local-search.js?v=7.4.1.js"></script><script>NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'gXeDpwV5YvMCwOIWqpM23kRd-gzGzoHsz',
    appKey: 'P26X19DE4lLPJ3AqalUjTlVv',
    placeholder: '欢迎来踩......',
    avatar: 'hide',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: '' || 'zh-cn',
    path: location.pathname,
    recordIP: true,
    serverURLs: ''
  });
}, window.Valine);</script></body></html><script type="text/javascript" src="/js/src/love.js"></script><script type="text/javascript" src="/js/src/click_show_text.js"></script><canvas id="DigitalRain" width="1440" height="900"></canvas><script type="text/javascript" src="/js/src/DigitalRain.js"></script><script type="text/javascript" src="/js/src/FunnyTitle.js"></script><!-- rebuild by neat -->